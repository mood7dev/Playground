<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>사용자 동의 폼</title>
  </head>
  <body>
    <h2>회원가입</h2>
    <form id="signupForm">
      <label> 이름: <input type="text" id="name" /> </label>
      <br /><br />

      <label>
        <input type="checkbox" id="useInfoCheck" />
        [필수] 사용자 정보 활용 동의
      </label>
      <br />

      <label>
        <input type="checkbox" id="useEmailCheck" />
        [선택] 이메일 수신 동의
      </label>
      <br /><br />

      <button type="submit">가입하기</button>
    </form>

    <script>
      document
        .getElementById("signupForm")
        .addEventListener("submit", function (e) {
          e.preventDefault(); // 기본 폼 제출 막기

          const name = document.getElementById("name").value.trim();
          const useInfoCheck = document.getElementById("useInfoCheck").checked;
          const useEmailCheck =
            document.getElementById("useEmailCheck").checked;

          const errors = [];

          if (!name) {
            errors.push("이름을 입력하세요.");
          }

          if (!useInfoCheck) {
            errors.push("사용자 정보 동의를 체크해주세요. (필수)");
          }

          if (!useEmailCheck) {
            errors.push(
              "이메일 수신 동의는 선택사항입니다. 원하시면 체크해주세요."
            );
          }

          if (errors.length > 0) {
            alert(errors.join("\n"));
          } else {
            alert("가입이 완료되었습니다! 저희 서비스를 자유롭게 활용하세요.");
            // 실제 서비스에서는 여기서 서버로 데이터 전송 처리 등 추가
          }
        });
    </script>
  </body>
</html>
